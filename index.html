<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manifestation Lab - Symboles Sacrés & Fréquences</title>
  <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            line-height: 1.6;
        }
        .header {
            background: rgba(0, 0, 0, 0.9);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { color: #ffd700; font-size: 1.5rem; font-weight: bold; }
        .nav { display: flex; gap: 1rem; flex-wrap: wrap; }
        .nav a {
            color: #ffd700;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border: 1px solid #ffd700;
            border-radius: 20px;
            transition: all 0.3s;
        }
        .nav a:hover { background: #ffd700; color: #1a1a2e; }
        .section { padding: 6rem 2rem 4rem; max-width: 1200px; margin: 0 auto; }
        .hero {
            text-align: center;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .hero h1 { font-size: 3.5rem; color: #ffd700; margin-bottom: 1rem; }
        .hero p { font-size: 1.5rem; color: #00bfff; margin-bottom: 2rem; font-style: italic; }
        .cta-buttons { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        .btn-primary { background: linear-gradient(45deg, #ff6b6b, #ee5a52); color: white; }
        .btn-secondary { background: transparent; border: 2px solid #ffd700; color: #ffd700; }
        .btn:hover { transform: translateY(-2px); }
        .section-title { text-align: center; font-size: 2.5rem; color: #ffd700; margin-bottom: 3rem; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem; }
        .card {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
            text-align: center;
            position: relative;
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); }
        .card.free-trial { border-color: #00ff88; background: rgba(0, 255, 136, 0.1); }
        .symbol-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin: 0 auto 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        .symbol-icon:hover { transform: rotate(360deg) scale(1.1); }
        .badge {
            position: absolute;
            top: -10px;
            right: -10px;
            padding: 0.5rem;
            border-radius: 50%;
            font-size: 0.7rem;
            font-weight: bold;
            color: white;
            background: #00ff88;
        }
        .usage-counter {
            margin-top: 1rem;
            padding: 0.8rem;
            background: rgba(0, 255, 136, 0.2);
            border-radius: 10px;
            color: #00ff88;
            font-weight: bold;
        }
        .frequency-badge {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 0.5rem;
            display: inline-block;
        }
        .frequency-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
        .frequency-card {
            background: rgba(255, 255, 255, 0.08);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        .frequency-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); }
        .frequency-card.playing {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        .frequency-number { font-size: 2rem; font-weight: bold; color: #ff6b6b; margin-bottom: 0.5rem; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 2000; }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        .modal-content {
            background: #1a1a2e;
            padding: 2rem;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
            border: 2px solid #ffd700;
            position: relative;
        }
        .form-input { 
            width: 100%; 
            padding: 0.8rem; 
            margin: 0.5rem 0; 
            border: 1px solid #444; 
            border-radius: 5px; 
            background: #333; 
            color: white;
            box-sizing: border-box; 
        }
        .close-btn { position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }
        .meditation-view {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(0,0,0,0.9), rgba(26,26,46,0.95));
            z-index: 3000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        .meditation-view.show { display: flex; }
        .meditation-symbol {
            width: 150px;
            height: 150px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            margin-bottom: 2rem;
            animation: spin 3s linear infinite;
        }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .timer { font-size: 2rem; color: #ffd700; margin-bottom: 1rem; }
        .audio-controls { margin: 1rem 0; display: flex; gap: 1rem; justify-content: center; align-items: center; flex-wrap: wrap; }
        .audio-btn {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .session-audio-btn {
            background: rgba(255, 215, 0, 0.2);
            border: 1px solid #ffd700;
            color: #ffd700;
        }
        .session-audio-btn:hover { background: #ffd700; color: #1a1a2e; }
        .status {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(0, 255, 136, 0.9);
            color: #1a1a2e;
            padding: 1rem;
            border-radius: 5px;
            display: none;
            z-index: 1500;
            font-weight: bold;
        }
        
        /* Styles pour l'intégration vidéo YouTube responsive */
        .video-responsive {
            overflow: hidden;
            padding-bottom: 56.25%; /* Ratio 16:9 */
            position: relative;
            height: 0;
            margin: 2rem auto;
            max-width: 800px; /* Limitez la largeur si nécessaire */
        }
        
        .video-responsive iframe {
            left: 0;
            top: 0;
            height: 100%;
            width: 100%;
            position: absolute;
            border-radius: 15px; /* Pour correspondre au style de votre site */
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.5);
        }

        /* Mise à jour pour n'afficher que deux cartes par défaut dans le pricing */
        .pricing-grid {
             display: grid; 
             grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
             gap: 2rem; 
             margin-top: 2rem; 
             max-width: 650px; /* Limite pour centrer les 2 cartes */
             margin-left: auto;
             margin-right: auto;
        }
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .header { flex-direction: column; padding: 1rem; text-align: center; }
            .nav { margin-top: 1rem; }
            .pricing-grid {
                max-width: 100%;
            }
        }
        @media (max-width: 900px) { 
            img { 
                max-width: 100%;
                height: auto;
            }
            .table-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            table {
                width: 100%;
                border-collapse: collapse;
            }
            td, th {
                padding: 8px;
                text-align: left;
                border: 1px solid #ddd;
            }
        }

        /* Styles Spécifiques au Générateur Date/Prénom */
        #legacy-generator .input-group {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #4a5a7a;
            border-radius: 8px;
            background-color: rgba(255, 107, 107, 0.1);
            border-color: #ff6b6b;
        }
        #legacy-generator .frequency-list h2 {
             color: #ff6b6b;
        }
        #legacy-generator .frequency-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dotted #4a5a7a;
        }
        #legacy-generator .frequency-item:last-child {
            border-bottom: none;
        }
        
        /* Styles Spécifiques au Générateur Premium */
        #premium-tools .card {
            border-color: #ff00ff; /* Magenta */
            background: rgba(255, 0, 255, 0.1);
        }
        #premium-tools .section-title {
            color: #ff00ff;
        }
        /* Nouvelle règle pour le grid Premium */
        #premium-tools .grid {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
        }

        .locked-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            border-radius: 15px;
            cursor: pointer;
            text-align: center;
        }
        .lock-icon {
            font-size: 3rem;
            color: #ff00ff;
            margin-bottom: 10px;
        }
        .lock-text {
            color: #ff00ff;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .binaural-info {
            font-size: 0.7rem; /* Réduit la taille pour 5 cartes */
            color: #ccc;
            margin-top: 10px;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }
        .premium-btn {
            background: linear-gradient(45deg, #ff00ff, #ff69b4); 
            color: white;
            border: 1px solid #ff00ff;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
  </style>
  <script src="https://www.paypal.com/sdk/js?client-id=ASb7430541783-aI8321041924637&vault=true&intent=subscription" data-sdk-integration-source="button-hosted"></script>
</head>
<body>
  <header class="header">
    <div class="logo">
      Manifestation Lab
    </div>
    <nav class="nav">
      <a href="#symbols">Symboles</a> 
      <a href="#sessions">Sessions</a> 
      <a href="#ai-generator">Générateur AI</a> 
      <a href="#vibrational-blueprint-generator">Schéma Vibratoire</a> 
      <a href="#premium-tools">⭐ Premium</a> 
      <a href="#legacy-generator">Générateur Perso</a> 
      <a href="#ai-exauceur">Bonus</a> 
      <a href="#pricing">Offres</a> 
      <a href="#" onclick="showOwnerModal()">🔐 Propriétaire</a>
    </nav>
  </header>
  <div id="ownerModal" class="modal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeOwnerModal()">×</button>
      <h3 style="color: #ffd700; text-align: center; margin-bottom: 1rem;">🔐 Accès Propriétaire/Premium</h3>
      <p style="text-align: center; color: #ccc; margin-bottom: 2rem;">Entrez votre code :</p><input type="password" id="ownerCode" placeholder="Code propriétaire" class="form-input"> <button onclick="checkOwnerAccess()" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Valider</button>
      </div>
  </div>
  <section class="hero section">
    <h1>Transformez Votre Vie</h1>
    <p>"Au-delà de l'apprentissage, l'expérience"</p>
    <div class="cta-buttons">
      <a href="#symbols" class="btn btn-primary">Accès Gratuit Total</a> <a href="#pricing" class="btn btn-secondary">Voir les Packs Premium</a>
    </div>
  </section>
  <section id="symbols" class="section">
    <h2 class="section-title">Symboles Sacrés + Fréquences</h2>
    <div style="background: rgba(0, 191, 255, 0.1); padding: 1.5rem; border-radius: 15px; margin-bottom: 2rem; border: 1px solid rgba(0, 191, 255, 0.3);">
      <h4 style="color: #00bfff; margin-bottom: 1rem; text-align: center;">📋 Instructions :</h4>
      <div style="color: #ccc; line-height: 1.8;">
        <p><strong>a)</strong> Cliquez sur un symbole pour l'activer...</p>
        <p><strong>b)</strong> Cliquez sur 'Jouer' pour s'imprégner de la fréquence correspondante et la mémoriser...</p>
        <p><strong>c)</strong> Durant la session, concentrez-vous sur le symbole en mouvement en utilisant des techniques de respiration ou méditatives...</p><br>
        <p style="color: #ffd700;"><strong>Pour des séances de concentration réussies, voici un exercice que vous pouvez apprendre et utiliser :</strong></p>
        <div style="margin-top: 1rem; padding: 1rem; background: rgba(255, 215, 0, 0.1); border-radius: 8px; text-align: center; border: 1px solid #ffd700;">
          <p style="color: #ffd700; margin-bottom: 0.5rem;">🎧 Exercice de Respiration Guidé (Lecteur Vérifié)</p><audio controls="" loop="" style="width: 100%; max-width: 400px;"><source src="audio/exercice-respiration.mp3" type="audio/mpeg">
          <p style="color: #ff6b6b;">Votre navigateur ne supporte pas l'élément audio.</p></audio>
          <p style="font-size: 0.9rem; color: #aaa; margin-top: 0.5rem;">Audio personnalisé pour optimiser vos séances</p>
        </div>
      </div>
    </div>
    <div class="grid">
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('fleur-vie', 528, 'Fleur.png', 'Fleur de Vie')" style="background: none; padding: 0;">
          <img src="Fleur.png" alt="Symbole de la Fleur de Vie" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Fleur de Vie</h3>
        <p style="color: #00bfff; font-weight: bold;">Harmonie + 528 Hz</p>
        <div class="frequency-badge">
          🎵 Fréquence de l'Amour
        </div>
        <p>Géométrie sacrée parfaite avec la fréquence de l'amour.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('sri-yantra', 432, 'Sri Yantra.png', 'Sri Yantra')" style="background: none; padding: 0;">
          <img src="Sri Yantra.png" alt="Symbole Sri Yantra" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Sri Yantra</h3>
        <p style="color: #00bfff; font-weight: bold;">Manifestation + 432 Hz</p>
        <div class="frequency-badge">
          🎵 Harmonie Naturelle
        </div>
        <p>Symbole hindou de manifestation et d'abondance.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('oeil-horus', 741, 'Œil Horus.png', 'Œil d\'Horus')" style="background: none; padding: 0;">
          <img src="Œil Horus.png" alt="Symbole Œil d'Horus" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Œil d'Horus</h3>
        <p style="color: #00bfff; font-weight: bold;">Protection + 741 Hz</p>
        <div class="frequency-badge">
          🎵 Expression & Créativité
        </div>
        <p>Symbole égyptien de protection et clairvoyance.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('merkaba', 963, 'Merkaba.png', 'Merkaba')" style="background: none; padding: 0;">
          <img src="Merkaba.png" alt="Symbole Merkaba" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Merkaba</h3>
        <p style="color: #00bfff; font-weight: bold;">Élévation + 963 Hz</p>
        <div class="frequency-badge">
          🎵 Connexion Divine
        </div>
        <p>Véhicule de lumière pour l'ascension spirituelle.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('om', 396, 'Om Sacré.png', 'Om Sacré')" style="background: none; padding: 0;">
          <img src="Om Sacré.png" alt="Symbole Om Sacré" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Om Sacré</h3>
        <p style="color: #00bfff; font-weight: bold;">Vibration + 396 Hz</p>
        <div class="frequency-badge">
          🎵 Libération des Peurs
        </div>
        <p>Symbole universel de l'unité cosmique.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('sceau', 852, 'Sceau de Salomon.png', 'Sceau de Salomon')" style="background: none; padding: 0;">
          <img src="Sceau de Salomon.png" alt="Symbole Sceau de Salomon" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Sceau de Salomon</h3>
        <p style="color: #00bfff; font-weight: bold;">Équilibre + 852 Hz</p>
        <div class="frequency-badge">
          🎵 Éveil Spirituel
        </div>
        <p>Hexagramme sacré d'équilibre et protection.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('spirale', 528, 'Spirale.png', 'Spirale Dorée')" style="background: none; padding: 0;">
          <img src="Spirale.png" alt="Symbole Spirale Dorée" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Spirale Dorée</h3>
        <p style="color: #00bfff; font-weight: bold;">Croissance + 528 Hz</p>
        <div class="frequency-badge">
          🎵 Régénération
        </div>
        <p>Ratio phi pour l'expansion harmonieuse.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useSymbol('triskel', 741, 'Triskel.png', 'Triskel Celtique')" style="background: none; padding: 0;">
          <img src="Triskel.png" alt="Symbole Triskel Celtique" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
        <h3 style="color: #ffd700;">Triskel Celtique</h3>
        <p style="color: #00bfff; font-weight: bold;">Transformation + 741 Hz</p>
        <div class="frequency-badge">
          🎵 Purification
        </div>
        <p>Triple spirale de renaissance et évolution.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
    </div>
  </section>
  <section id="sessions" class="section">
    <h2 class="section-title">Sessions Spéciales</h2>
    <div class="grid">
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useMeditation('stress', 432, '●', 'Gestion du Stress')" style="background: linear-gradient(45deg, #00bfff, #0099cc);">
          ●
        </div>
        <h3 style="color: #ffd700;">Gestion du Stress</h3>
        <p style="color: #00bfff; font-weight: bold;">Apaisement + 432 Hz</p>
        <div class="frequency-badge">
          🎵 Harmonie Naturelle
        </div>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useMeditation('boost', 0, '⚡', 'Boost Énergie')" style="background: linear-gradient(45deg, #00ff88, #00cc6a);">
          ⚡
        </div>
        <h3 style="color: #ffd700;">Boost Énergie</h3>
        <p style="color: #00bfff; font-weight: bold;">Vitalité</p>
        <div class="frequency-badge">
          🎵 Multi-Fréquences
        </div>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useMeditation('detente', 2, '🌙', 'Détente')" style="background: linear-gradient(45deg, #9370db, #7b68ee);">
          🌙
        </div>
        <h3 style="color: #ffd700;">Détente</h3>
        <p style="color: #00bfff; font-weight: bold;">Repos + Ondes Delta</p>
        <div class="frequency-badge">
          🎵 Fréquences Delta
        </div>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useMeditation('coeur', 528, '❤️', 'Ouverture du Cœur')" style="background: linear-gradient(45deg, #ff6b6b, #ff8787);">
          ❤️
        </div>
        <h3 style="color: #ffd700;">Ouverture du Cœur</h3>
        <p style="color: #00bfff; font-weight: bold;">Amour + 528 Hz</p>
        <div class="frequency-badge">
          🎵 Fréquence de l'Amour
        </div>
        <p>Libération émotionnelle et ouverture du chakra cœur.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useMeditation('focus', 40, '🧠', 'Focus Mental')">
          🧠
        </div>
        <h3 style="color: #ffd700;">Focus Mental</h3>
        <p style="color: #00bfff; font-weight: bold;">Concentration + Ondes Gamma</p>
        <div class="frequency-badge">
          🎵 Gamma 40Hz
        </div>
        <p>Amélioration de la concentration et clarté mentale.</p>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
      <div class="card free-trial">
        <div class="badge">
          GRATUIT
        </div>
        <div class="symbol-icon" onclick="useMeditation('lacher-prise', 396, '🌊', 'Lâcher-Prise')" style="background: linear-gradient(45deg, #00bfff, #0099cc);">
          🌊
        </div>
        <h3 style="color: #ffd700;">Lâcher-Prise</h3>
        <p style="color: #00bfff; font-weight: bold;">Détachement + 396 Hz</p>
        <div class="frequency-badge">
          🎵 Libération Émotionnelle
        </div>
        <div class="usage-counter">
          ✨ Accès illimité gratuit
        </div>
      </div>
    </div>
  </section>
  <section id="ai-generator" class="section">
    <h2 class="section-title" style="color: #00ff88;">Générateur de Fréquence d'Intention AI</h2>
    <p style="text-align: center; color: #aaa; font-style: italic; font-size: 0.9rem; margin-top: -2rem; margin-bottom: 2rem;">Même si l'outil a des fonctions avancées, variez vos mots-clés pour des réponses uniques !</p>
    <div style="text-align: center; max-width: 600px; margin: 0 auto; padding: 2rem; background: rgba(0, 255, 136, 0.1); border-radius: 15px; border: 1px solid #00ff88;">
      <p style="color: #ccc; margin-bottom: 1.5rem;">Entrez votre intention (vœu, objectif, affirmation positive) pour que notre AI calcule et joue la **Fréquence Vibratoire d'Alignement** la plus puissante.</p>
      <textarea id="intentionInput" placeholder="Ex: Je manifeste l'abondance financière illimitée maintenant." rows="4" class="form-input" style="height: auto;"></textarea> <button onclick="generateIntentionFrequency()" class="btn btn-primary" style="background: linear-gradient(45deg, #00ff88, #00cc6a); margin-top: 1.5rem; width: 100%;">⚡ Analyser & Jouer l'Accord de Manifestation (12s)</button>
      <div id="aiResult" style="margin-top: 2rem; padding: 1rem; background: rgba(255, 215, 0, 0.1); border-radius: 10px; border: 1px solid #ffd700; color: #ffd700; font-size: 1.2rem; font-weight: bold; min-height: 50px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        Le résultat de l'analyse s'affichera ici et le son jouera automatiquement.
      </div>
    </div>
  </section>
  <section id="vibrational-blueprint-generator" class="section">
    <h2 class="section-title" style="color: #9370db;">Générateur de Schéma Vibratoire Personnel</h2>
    <div style="text-align: center; max-width: 700px; margin: 0 auto; padding: 2rem; background: rgba(147, 112, 219, 0.1); border-radius: 15px; border: 1px solid #9370db;">
      <p style="color: #ccc; margin-bottom: 1.5rem;">Entrez vos objectifs pour que notre AI combine symboles et fréquences dans un puissant schéma vibratoire personnel.</p>
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <input type="text" id="goal-amour" placeholder="Ex: Mon objectif en amour..." class="form-input"> <input type="text" id="goal-carriere" placeholder="Ex: Mon objectif de carrière..." class="form-input"> <input type="text" id="goal-sante" placeholder="Ex: Mon objectif de santé..." class="form-input">
      </div><button onclick="generateVibrationalBlueprint()" class="btn btn-primary" style="background: linear-gradient(45deg, #9370db, #7b68ee); margin-top: 1.5rem; width: 100%;">✨ Générer mon Schéma Vibratoire (12s)</button>
      <div id="blueprintResult" style="margin-top: 2rem; padding: 1rem; background: rgba(255, 215, 0, 0.1); border-radius: 10px; border: 1px solid #ffd700; color: #ffd700; font-size: 1.2rem; font-weight: bold; min-height: 50px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        Votre schéma unique s'affichera ici.
      </div>
    </div>
  </section>
  
  <section id="legacy-generator" class="section">
    <h2 class="section-title" style="color: #ff6b6b;">Générateur de Fréquence Personnel (Legacy)</h2>
    <div style="text-align: center; max-width: 500px; margin: 0 auto; padding: 2rem; background: rgba(255, 107, 107, 0.1); border-radius: 15px; border: 1px solid #ff6b6b;">
      <p style="color: #ccc; margin-bottom: 1.5rem;">Entrez votre nom et votre date de naissance pour générer vos fréquences vibratoires personnelles (méthode de numérologie traditionnelle).</p>
      <div class="input-group">
        <input type="text" id="nameInput" placeholder="Votre prénom et nom" class="form-input"> 
        <input type="date" id="dobInput" class="form-input"> 
      </div>
      <button onclick="calculateLegacyFrequencies()" class="btn btn-primary" style="background: linear-gradient(45deg, #ff6b6b, #ee5a52); width: 100%;">🔢 Calculer mes Fréquences</button>
      <div id="legacyResult" class="frequency-list" style="margin-top: 2rem; padding: 1rem; background: rgba(255, 215, 0, 0.1); border-radius: 10px; border: 1px solid #ffd700; color: #ffd700; min-height: 50px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <h2 style="font-size: 1.2rem; font-weight: bold;">Vos Fréquences Personnelles :</h2>
        <p style="color: #ccc;">Le résultat du calcul s'affichera ici.</p>
      </div>
    </div>
  </section>
  
  <section id="ai-exauceur" class="section">
    <h2 class="section-title">Bonus à tester</h2>
    <div style="background: rgba(255, 107, 107, 0.1); padding: 1.5rem; border-radius: 15px; margin-bottom: 3rem; border: 1px solid rgba(255, 107, 107, 0.3);">
        <h4 style="color: #ff6b6b; margin-bottom: 1rem; text-align: center;">Fréquences Solfège & Leurs Bienfaits</h4>
        <div class="frequency-grid" style="grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem;">
            <div style="text-align: center; padding: 0.5rem; border: 1px dashed #ff6b6b; border-radius: 5px;">
                <p style="font-weight: bold; color: #ffd700;">396 Hz</p>
                <p style="font-size: 0.8rem; color: #ccc;">Libération des Peurs</p>
                <p style="font-size: 0.7rem; color: #aaa; margin-top: 0.3rem;">Transforme la culpabilité en joie, libère des énergies bloquées.</p>
                <p onclick="playPureTone(396, '396 Hz', 12000)" style="cursor: pointer; color: #00ff88; font-weight: bold; margin-top: 0.5rem;">🎵 Cliquez pour écouter (12s)</p>
            </div>
            <div style="text-align: center; padding: 0.5rem; border: 1px dashed #ff6b6b; border-radius: 5px;">
                <p style="font-weight: bold; color: #ffd700;">432 Hz</p>
                <p style="font-size: 0.8rem; color: #ccc;">Harmonie Naturelle</p>
                <p style="font-size: 0.7rem; color: #aaa; margin-top: 0.3rem;">Fréquence de la nature, apaise le système nerveux.</p>
                <p onclick="playPureTone(432, '432 Hz', 12000)" style="cursor: pointer; color: #00ff88; font-weight: bold; margin-top: 0.5rem;">🎵 Cliquez pour écouter (12s)</p>
            </div>
            <div style="text-align: center; padding: 0.5rem; border: 1px dashed #ff6b6b; border-radius: 5px;">
                <p style="font-weight: bold; color: #ffd700;">528 Hz</p>
                <p style="font-size: 0.8rem; color: #ccc;">Fréquence de l'Amour</p>
                <p style="font-size: 0.7rem; color: #aaa; margin-top: 0.3rem;">Répare l'ADN et ouvre le cœur à l'amour inconditionnel.</p>
                <p onclick="playPureTone(528, '528 Hz', 12000)" style="cursor: pointer; color: #00ff88; font-weight: bold; margin-top: 0.5rem;">🎵 Cliquez pour écouter (12s)</p>
            </div>
            <div style="text-align: center; padding: 0.5rem; border: 1px dashed #ff6b6b; border-radius: 5px;">
                <p style="font-weight: bold; color: #ffd700;">639 Hz</p>
                <p style="font-size: 0.8rem; color: #ccc;">Relations Harmoniques</p>
                <p style="font-size: 0.7rem; color: #aaa; margin-top: 0.3rem;">Connexion et relations interpersonnelles, unité de la famille.</p>
                <p onclick="playPureTone(639, '639 Hz', 12000)" style="cursor: pointer; color: #00ff88; font-weight: bold; margin-top: 0.5rem;">🎵 Cliquez pour écouter (12s)</p>
            </div>
            <div style="text-align: center; padding: 0.5rem; border: 1px dashed #ff6b6b; border-radius: 5px;">
                <p style="font-weight: bold; color: #ffd700;">741 Hz</p>
                <p style="font-size: 0.8rem; color: #ccc;">Expression & Créativité</p>
                <p style="font-size: 0.7rem; color: #aaa; margin-top: 0.3rem;">Stimule l'expression personnelle et résolution de problèmes.</p>
                <p onclick="playPureTone(741, '741 Hz', 12000)" style="cursor: pointer; color: #00ff88; font-weight: bold; margin-top: 0.5rem;">🎵 Cliquez pour écouter (12s)</p>
            </div>
            <div style="text-align: center; padding: 0.5rem; border: 1px dashed #ff6b6b; border-radius: 5px;">
                <p style="font-weight: bold; color: #ffd700;">852 Hz</p>
                <p style="font-size: 0.8rem; color: #ccc;">Éveil Spirituel</p>
                <p style="font-size: 0.7rem; color: #aaa; margin-top: 0.3rem;">Développe l'intuition et renforce la connexion spirituelle.</p>
                <p onclick="playPureTone(852, '852 Hz', 12000)" style="cursor: pointer; color: #00ff88; font-weight: bold; margin-top: 0.5rem;">🎵 Cliquez pour écouter (12s)</p>
            </div>
            <div style="text-align: center; padding: 0.5rem; border: 1px dashed #ff6b6b; border-radius: 5px;">
                <p style="font-weight: bold; color: #ffd700;">963 Hz</p>
                <p style="font-size: 0.8rem; color: #ccc;">Connexion Divine</p>
                <p style="font-size: 0.7rem; color: #aaa; margin-top: 0.3rem;">Active la glande pinéale et facilite l'éveil spirituel.</p>
                <p onclick="playPureTone(963, '963 Hz', 12000)" style="cursor: pointer; color: #00ff88; font-weight: bold; margin-top: 0.5rem;">🎵 Cliquez pour écouter (12s)</p>
            </div>
        </div>
    </div>

    <div style="text-align: left; max-width: 800px; margin: 3rem auto 3rem; padding: 2rem; background: rgba(0, 191, 255, 0.1); border-radius: 15px; border: 1px solid #00bfff;">
        <h3 style="color: #00bfff; margin-bottom: 1rem;">La Science Derrière la Manifestation</h3>
        <h4 style="color: #ffd700; margin-bottom: 1rem;">Vibration, Fréquence et Cerveau</h4>
        <p>Chaque pensée et chaque émotion émet une **fréquence vibratoire** mesurable. Le Manifestation Lab utilise deux piliers scientifiques pour vous aider à atteindre l'alignement :</p>
        <ul style="list-style-type: disc; margin: 1rem 0 0 1.5rem; color: #ccc; padding-left: 0;">
            <li style="margin-bottom: 0.5rem;"><strong>La Résonance Harmonique :</strong> Les symboles sacrés et les fréquences Solfège (comme 528 Hz, la fréquence de l'amour) agissent comme des **diapasons énergétiques**. L'écoute du ton pur force votre propre champ énergétique à essayer de s'harmoniser avec la fréquence ciblée, un phénomène connu sous le nom d'**entraînement vibratoire**.</li>
            <li style="margin-bottom: 0.5rem;"><strong>L'Entraînement des Ondes Cérébrales (Premium) :</strong> Les **battements binauraux** (deux fréquences légèrement différentes jouées séparément dans chaque oreille) poussent le cerveau à créer une troisième fréquence interne. C'est l'**entraînement d'ondes cérébrales**, utilisé pour induire des états de concentration (Gamma/Beta), de relaxation (Alpha/Thêta) ou de sommeil profond (Delta).</li>
        </ul>
    </div>
    <div class="video-responsive" style="margin-top: 3rem;">
      <iframe src="https://www.youtube.com/embed/ZDAwYjZJRZY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <h3 style="text-align: center; color: #ffd700; margin-bottom: 1rem; margin-top: 1rem;">Preuve Vidéo : Les Fréquences Formant la Fleur de Vie</h3>
    <p style="text-align: center; color: #aaa; margin-top: -1rem; margin-bottom: 2rem;">La Cymatique (la visualisation du son) montre comment les vibrations créent des formes géométriques sacrées (Fleur de Vie, etc.).</p>
    <div class="video-responsive" style="margin-top: 3rem;">
      <iframe src="https://www.youtube.com/embed/062Ja98aBkM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <h3 style="text-align: center; color: #ffd700; margin-bottom: 1rem; margin-top: 1rem;">Exercice puissant de Manifestation</h3>
    <div class="video-responsive" style="margin-top: 3rem;">
      <iframe src="https://www.youtube.com/embed/xTKgCvTsd6g" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <h3 style="text-align: center; color: #ffd700; margin-bottom: 1rem; margin-top: 1rem;">Autre Vidéo à expérimenter</h3> 
    <div class="video-responsive" style="margin-top: 3rem;">
      <iframe src="https://www.youtube.com/embed/R19k6e-jE5g" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    </section>
  
  <section id="premium-tools" class="section">
    <h2 class="section-title">⭐ Outils Premium Avancés ⭐</h2>
    <div style="text-align: center; max-width: 800px; margin: 0 auto; padding: 2rem; background: rgba(255, 0, 255, 0.1); border-radius: 15px; border: 1px solid #ff00ff;">
      <p style="color: #ccc; margin-bottom: 1.5rem;">Accédez à des outils exclusifs pour démultiplier vos capacités de manifestation. Ces sessions utilisent des fréquences isochroniques et binaurales pour une immersion et un impact maximum. </p>
    </div>
    <div class="grid">
      <div class="card">
        <div class="locked-overlay" onclick="showPricing()">
          <span class="lock-icon">🔒</span>
          <p class="lock-text">PREMIUM</p>
        </div>
        <div class="symbol-icon" style="background: linear-gradient(45deg, #ff00ff, #ff87ff);">
          👑
        </div>
        <h3 style="color: #ff00ff;">Activation Hypothalamus</h3>
        <p style="color: #00bfff; font-weight: bold;">ADN + 7.83 Hz (Schumann)</p>
        <div class="frequency-badge" style="background: rgba(255, 0, 255, 0.2); color: #ff00ff;">
          🎵 Binaural Theta
        </div>
        <p>Alignement aux fréquences terrestres pour une régénération profonde. </p>
        <div class="binaural-info">
          🎧 Fréquences Binaurales (nécessite écouteurs)
        </div>
        <button class="premium-btn" onclick="useMeditation('hypothalamus', 7.83, '👑', 'Activation Hypothalamus')" disabled>Démarrer</button>
      </div>
      <div class="card">
        <div class="locked-overlay" onclick="showPricing()">
          <span class="lock-icon">🔒</span>
          <p class="lock-text">PREMIUM</p>
        </div>
        <div class="symbol-icon" style="background: linear-gradient(45deg, #ff00ff, #ff87ff);">
          💎
        </div>
        <h3 style="color: #ff00ff;">Nettoyage Karmique</h3>
        <p style="color: #00bfff; font-weight: bold;">Libération + 10 Hz (Alpha)</p>
        <div class="frequency-badge" style="background: rgba(255, 0, 255, 0.2); color: #ff00ff;">
          🎵 Isochronique Alpha
        </div>
        <p>Efface les anciens schémas et accélère la manifestation de la richesse. </p>
        <div class="binaural-info">
          🎧 Fréquences Isochroniques
        </div>
        <button class="premium-btn" onclick="useMeditation('nettoyage', 10, '💎', 'Nettoyage Karmique')" disabled>Démarrer</button>
      </div>
      <div class="card">
        <div class="locked-overlay" onclick="showPricing()">
          <span class="lock-icon">🔒</span>
          <p class="lock-text">PREMIUM</p>
        </div>
        <div class="symbol-icon" style="background: linear-gradient(45deg, #ff00ff, #ff87ff);">
          🚀
        </div>
        <h3 style="color: #ff00ff;">Projection Quantique</h3>
        <p style="color: #00bfff; font-weight: bold;">Vitesse + 4 Hz (Theta)</p>
        <div class="frequency-badge" style="background: rgba(255, 0, 255, 0.2); color: #ff00ff;">
          🎵 Binaural Theta
        </div>
        <p>Vibration rapide pour un envoi de pensées clair et puissant dans le champ quantique.</p>
        <div class="binaural-info">
          🎧 Fréquences Binaurales (nécessite écouteurs)
        </div>
        <button class="premium-btn" onclick="useMeditation('projection', 4, '🚀', 'Projection Quantique')" disabled>Démarrer</button>
      </div>
      <div class="card">
        <div class="locked-overlay" onclick="showPricing()">
          <span class="lock-icon">🔒</span>
          <p class="lock-text">PREMIUM</p>
        </div>
        <div class="symbol-icon" style="background: linear-gradient(45deg, #ff00ff, #ff87ff);">
          💰
        </div>
        <h3 style="color: #ff00ff;">Richessse Instantanée</h3>
        <p style="color: #00bfff; font-weight: bold;">Attraction + 111 Hz</p>
        <div class="frequency-badge" style="background: rgba(255, 0, 255, 0.2); color: #ff00ff;">
          🎵 Pure Tone
        </div>
        <p>Fréquence angélique pour ouvrir les portes de l'abondance matérielle. (Non-binaural)</p>
        <div class="binaural-info">
          👂🏼 Fréquence Isochronique (non-binaurale)
        </div>
        <button class="premium-btn" onclick="useMeditation('richesse', 111, '💰', 'Richesse Instantanée')" disabled>Démarrer</button>
      </div>
      <div class="card">
        <div class="locked-overlay" onclick="showPricing()">
          <span class="lock-icon">🔒</span>
          <p class="lock-text">PREMIUM</p>
        </div>
        <div class="symbol-icon" style="background: linear-gradient(45deg, #ff00ff, #ff87ff);">
          🧘‍♀️
        </div>
        <h3 style="color: #ff00ff;">Hypnose Profonde</h3>
        <p style="color: #00bfff; font-weight: bold;">Subconscient + 0.5 Hz (Delta)</p>
        <div class="frequency-badge" style="background: rgba(255, 0, 255, 0.2); color: #ff00ff;">
          🎵 Binaural Delta
        </div>
        <p>Reprogrammation directe du subconscient pour ancrer de nouvelles croyances positives.</p>
        <div class="binaural-info">
          🎧 Fréquences Binaurales (nécessite écouteurs)
        </div>
        <button class="premium-btn" onclick="useMeditation('hypnose', 0.5, '🧘‍♀️', 'Hypnose Profonde')" disabled>Démarrer</button>
      </div>
    </div>
  </section>
  
  <section id="pricing" class="section">
    <h2 class="section-title" style="color: #ff00ff;">Accès Premium & Outils de Manifestation Avancée</h2>
    <div style="text-align: center; max-width: 700px; margin: 0 auto 3rem; padding: 2rem; background: rgba(255, 0, 255, 0.1); border-radius: 15px; border: 1px solid #ff00ff;">
      <h3 style="color: #ff00ff; margin-bottom: 1rem;">🔑 Pourquoi Passer au Premium ?</h3>
      <ul style="text-align: left; list-style-type: '⭐ '; margin: 0 auto; max-width: 500px; padding-left: 1.5rem; line-height: 2;">
          <li>Accès aux **5 Ondes Cérébrales Binaurales** (Delta, Thêta, Alpha, Beta, Gamma) pour induire un état de manifestation spécifique.</li>
          <li>C'est l'outil le plus puissant pour **synchroniser votre cerveau** avec vos intentions.</li>
      </ul>
    </div>
    
    <div class="pricing-grid">
      <div class="card free-trial" style="border-color: #00bfff; background: rgba(0, 191, 255, 0.1);">
        <h3 style="color: #00bfff; font-size: 1.8rem; margin-bottom: 0.5rem;">Accès de Base</h3>
        <p style="font-size: 2.5rem; font-weight: bold; color: #00bfff;">0€</p>
        <p style="color: #ccc; margin-bottom: 1rem;">Un point de départ puissant.</p>
        <ul style="text-align: left; list-style-type: '✅ '; margin: 0 auto; max-width: 250px; padding-left: 1.5rem; line-height: 2;">
          <li>Accès illimité à tous les outils **GRATUITS**</li>
          <li>Générateur AI d'Intention</li>
          <li>Générateur Legacy Date/Nom</li>
          <li>Tous les Symboles Sacrés</li>
          <li>Sessions Spéciales (Non Binaurales)</li>
        </ul>
        <a href="#symbols" class="btn btn-primary" style="background: linear-gradient(45deg, #00bfff, #0099cc); width: 100%; margin-top: 2rem;">Accéder Maintenant (Gratuit)</a>
      </div>
      
      <div class="card free-trial" style="border-color: #ff00ff; background: rgba(255, 0, 255, 0.1);">
        <h3 style="color: #ff00ff; font-size: 1.8rem; margin-bottom: 0.5rem;">Pack de Manifestation VIP</h3>
        <p style="font-size: 2.5rem; font-weight: bold; color: #ff00ff;">19€</p>
        <p style="color: #ccc; margin-bottom: 1.5rem;">au lieu de 89€.</p>
        <ul style="text-align: left; list-style-type: '✓ '; margin: 0 auto; max-width: 280px; padding-left: 1.5rem; line-height: 1.8; font-size: 0.9rem;">
          <li>Accès aux outils gratuits</li>
          <li>Accès à la section Premium (5 Ondes Binaurales)</li>
          <li>Ouvrage 'SYMBOLES'</li>
          <li>Guide Pratique de Manifestation</li>
          <li>Oracle de Manifestation</li>
          <li>Journal de Manifestation</li>
          <li>Manuel de Rétrocausalité</li>
        </ul>
        <div id="paypal-container-19" style="margin-top: 2rem;">
          </div>
      </div>
    </div>
    <p style="text-align: center; color: #aaa; margin-top: 3rem;">Achat sécurisé via PayPal (lien direct) ou autres moyens de paiement.</p>
  </section>
  
  <div id="meditationView" class="meditation-view">
    <h2 id="meditationTitle" style="color: #00bfff;"></h2>
    <div id="meditationSymbol" class="meditation-symbol"></div>
    <div id="timerDisplay" class="timer">00:00</div>
    <p id="meditationFrequency" style="font-size: 1.2rem; color: #ccc; margin-bottom: 1rem;"></p>
    <div id="audioControls" class="audio-controls">
      <button onclick="toggleAudio()" class="btn btn-primary" id="playPauseBtn">▶️ Jouer la Fréquence</button>
      <button onclick="stopMeditation()" class="btn btn-secondary">⏹️ Terminer la Session</button>
    </div>
    <div style="font-size: 0.9rem; color: #aaa; margin-top: 2rem; max-width: 80%; text-align: center;">
      <p>💡 **Conseil :** Concentrez-vous sur le mouvement du symbole pendant 5 à 10 minutes pour optimiser l'ancrage de la fréquence.</p>
    </div>
  </div>
  <div id="statusMessage" class="status"></div>
  
  <script>
    // Variables globales
    let currentSymbol;
    let currentFrequency;
    let audioContext;
    let oscillator;
    let isPlaying = false;
    let startTime;
    let timerInterval;
    let isOwner = false;

    // --- Gestion de l'Accès Propriétaire/Premium ---
    function checkOwnerAccess() {
        const code = document.getElementById('ownerCode').value;
        const correctCode = 'manifest2024'; // Code propriétaire/premium fictif
        
        if (code === correctCode) {
            isOwner = true;
            document.querySelectorAll('.locked-overlay').forEach(overlay => {
                overlay.style.display = 'none';
            });
            document.querySelectorAll('#premium-tools .premium-btn').forEach(btn => {
                btn.disabled = false;
                btn.textContent = 'Démarrer';
                btn.style.background = 'linear-gradient(45deg, #ff00ff, #ff69b4)';
            });
            showStatus('🔓 Accès Premium Débloqué !', '#00ff88');
            closeOwnerModal();
        } else {
            alert("Code incorrect.");
        }
    }

    function showPricing() {
        // Redirige vers la section pricing ou ouvre la modale
        if (!isOwner) {
            document.getElementById('ownerModal').classList.add('show');
            showStatus('🔒 Outil Premium. Entrez le code ou passez au Pack VIP.', '#ff00ff');
        }
    }
    
    function showOwnerModal() {
        document.getElementById('ownerModal').classList.add('show');
    }

    function closeOwnerModal() {
        document.getElementById('ownerModal').classList.remove('show');
    }

    // --- Fonctionnalité de Méditation / Symboles ---
    function useSymbol(name, frequency, symbolContent, title) {
        currentSymbol = symbolContent;
        currentFrequency = frequency;
        document.getElementById('meditationTitle').textContent = title;
        document.getElementById('meditationFrequency').textContent = `Fréquence: ${frequency} Hz`;
        
        const symbolDisplay = document.getElementById('meditationSymbol');
        symbolDisplay.innerHTML = '';
        
        if (symbolContent.endsWith('.png') || symbolContent.endsWith('.jpg')) {
             // Si c'est une image (comme Fleur.png)
            const img = document.createElement('img');
            img.src = symbolContent;
            img.alt = title;
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'contain';
            symbolDisplay.appendChild(img);
            symbolDisplay.style.background = 'none'; // Désactive le background par défaut
            symbolDisplay.style.borderRadius = '0'; // Désactive l'arrondi si l'image doit être carrée
            symbolDisplay.style.animation = 'none'; // Désactive l'animation de rotation
            // Réactive l'animation de rotation juste pour le symbole pour le rendre dynamique
            setTimeout(() => symbolDisplay.style.animation = 'spin 10s linear infinite', 50);

        } else {
            // Si c'est un caractère/emoji
            symbolDisplay.textContent = symbolContent;
            symbolDisplay.style.background = 'linear-gradient(45deg, #ffd700, #ffed4e)'; // Rétablit le style de fond
            symbolDisplay.style.borderRadius = '50%';
            symbolDisplay.style.animation = 'spin 3s linear infinite';
        }

        document.getElementById('meditationView').classList.add('show');
        resetTimer();
        stopAudio(); // Assure que tout audio précédent est arrêté
    }

    function useMeditation(name, frequency, symbolContent, title) {
        if (!isOwner && name !== 'stress' && name !== 'boost' && name !== 'detente' && name !== 'coeur' && name !== 'focus' && name !== 'lacher-prise') {
            showPricing();
            return;
        }
        useSymbol(name, frequency, symbolContent, title);
    }


    // --- Fonctionnalité Audio (Générateur de Ton Pur) ---
    function playPureTone(frequency, title, duration = 600000) { // 10 minutes par défaut pour les outils non-meditation
        // Définir la durée de la session principale à 5 minutes (300 000 ms)
        const sessionDurationMs = 300000;
        
        // La durée réelle est de 5 minutes si la durée passée est 0 (sessions principales),
        // sinon c'est la durée passée (e.g., 12s pour les tests Solfège)
        const actualDurationMs = duration === 0 ? sessionDurationMs : duration;
        
        // Arrête tout son en cours
        stopAudio();
        
        currentFrequency = frequency;
        
        try {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            oscillator = audioContext.createOscillator();
            
            // Si c'est une fréquence isochronique ou binaurale
            if (frequency < 40) {
                 // Générer un battement isochronique simple pour la démo
                 oscillator.type = 'square'; 
                 oscillator.frequency.setValueAtTime(432, audioContext.currentTime); // Fréquence porteuse
                 
                 const gainNode = audioContext.createGain();
                 gainNode.gain.setValueAtTime(0, audioContext.currentTime); // Commence muet
                 
                 const period = 1 / frequency; // Période du battement
                 const now = audioContext.currentTime;
                 
                 // Création d'une enveloppe de gain pulsée pour simuler isochronique (simplifié)
                 for (let t = 0; t < actualDurationMs / 1000; t += period) {
                    gainNode.gain.setValueAtTime(1, now + t);
                    gainNode.gain.setValueAtTime(0, now + t + period / 2); // Demi-période ON/OFF
                 }
                 
                 oscillator.connect(gainNode);
                 gainNode.connect(audioContext.destination);

            } else {
                 // Fréquence Solfège ou autre pure tone
                 oscillator.type = 'sine';
                 oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                 oscillator.connect(audioContext.destination);
            }

            oscillator.start();
            isPlaying = true;

            showStatus(`🎵 Lecture: ${title} (${frequency} Hz)`, '#00ff88');
            
            // Arrêter après la durée
            if (actualDurationMs > 0) { // Utiliser actualDurationMs
                const stopTime = audioContext.currentTime + actualDurationMs / 1000;
                
                oscillator.stop(stopTime);
                oscillator.onended = () => {
                    stopAudio();
                    // Ajout de la logique de fin de session uniquement si c'était une session principale (duration === 0)
                    if (duration === 0) {
                         stopMeditation(); // Stoppe la vue + minuteur
                         showStatus('✅ Session de 5 minutes terminée !', '#ffd700');
                         alert("Session de 5 minutes terminée !"); // Ajout de l'alerte
                    } else {
                         showStatus('▶️ Lecture terminée.', '#ffd700');
                    }
                };
            }

        } catch(e) {
            showStatus('⚠️ Erreur: L\'audio doit être lancé par un clic utilisateur.', '#ff6b6b');
            console.error(e);
        }
    }
    
    function toggleAudio() {
        const playPauseBtn = document.getElementById('playPauseBtn');
        if (isPlaying) {
            stopAudio();
            playPauseBtn.textContent = '▶️ Jouer la Fréquence';
            // Stop the timer when audio is paused/stopped (Manual pause)
            clearInterval(timerInterval); // <-- Ceci est correct pour la pause manuelle
        } else {
            // Dans le contexte de la vue méditation, on joue la fréquence du symbole actuel
            playPureTone(currentFrequency, document.getElementById('meditationTitle').textContent, 0); 
            playPauseBtn.textContent = '⏸️ Pause';
            
            // FIX POUR LE MINUTEUR BINUARAL: 
            // On retarde le démarrage du minuteur de 100ms. Cela donne le temps 
            // à l'oscillateur (s'il échoue instantanément sur les basses fréquences) 
            // de lancer son événement 'onended' et de s'arrêter AVANT que le timer 
            // ne soit lancé, évitant ainsi un conflit.
            setTimeout(() => {
                if (isPlaying) { // Vérifie si la session n'a pas été arrêtée durant le délai
                    startTimer();
                } else {
                    // Si isPlaying est false, l'audio a échoué ou s'est arrêté immédiatement.
                    playPauseBtn.textContent = '▶️ Jouer la Fréquence'; 
                    showStatus('⚠️ Échec du démarrage de l\'audio. Réessayez.', '#ff6b6b');
                }
            }, 100); 
        }
    }

    function stopAudio() {
        if (oscillator) {
            oscillator.stop();
            oscillator.disconnect();
            oscillator = null;
        }
        if (audioContext && audioContext.close) {
            audioContext.close();
            audioContext = null;
        }
        isPlaying = false;
        // Ensure the timer stops when audio stops from any source (onended, manual stop)
        clearInterval(timerInterval); 
    }
    
    function stopMeditation() {
        stopAudio();
        document.getElementById('meditationView').classList.remove('show');
        resetTimer();
    }

    // --- Fonctionnalité Timer ---
    function startTimer() {
        startTime = Date.now();
        timerInterval = setInterval(updateTimer, 1000);
    }

    function updateTimer() {
        const elapsedTime = Date.now() - startTime;
        const totalSeconds = Math.floor(elapsedTime / 1000);
        
        // Arrêter le minuteur après 300 secondes (5 minutes) - Agit comme filet de sécurité
        if (totalSeconds >= 300) { 
            stopMeditation(); 
            return;
        }

        const minutes = String(Math.floor(totalSeconds / 60)).padStart(2, '0');
        const seconds = String(totalSeconds % 60).padStart(2, '0');
        document.getElementById('timerDisplay').textContent = `${minutes}:${seconds}`;
    }

    function resetTimer() {
        clearInterval(timerInterval);
        document.getElementById('timerDisplay').textContent = '00:00';
    }

    // --- Générateur Fréquence Intention AI ---
    function generateIntentionFrequency() {
         const intention = document.getElementById('intentionInput').value.trim();
         if (intention.length < 5) {
             alert("Veuillez entrer une intention complète (minimum 5 caractères).");
             return;
         }
         
         const resultDiv = document.getElementById('aiResult');
         resultDiv.innerHTML = '<span style="color: #00bfff;">Analyse en cours...</span>';
         
         // Simulation d'une analyse AI complexe de 12 secondes
         const analysisDuration = 12000;
         let secondsLeft = analysisDuration / 1000;
         
         const analysisInterval = setInterval(() => {
             secondsLeft--;
             if (secondsLeft > 0) {
                 resultDiv.innerHTML = `<span style="color: #00bfff;">Analyse en cours... (${secondsLeft}s restants)</span>`;
             } else {
                 clearInterval(analysisInterval);
                 
                 // Simuler un calcul basé sur la longueur du texte
                 const hash = intention.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
                 const baseFreq = 396;
                 const customFreq = baseFreq + (hash % 500); // Génère une fréquence entre 396 et 895 Hz
                 
                 const frequency = customFreq % 9 !== 0 ? customFreq : customFreq + 1; // Éviter les multiples de 9 pour la démo
                 const title = `Accord Vibratoire pour: "${intention.substring(0, 20)}..."`;
                 
                 resultDiv.innerHTML = `
                    <h2 style="font-size: 1.5rem; font-weight: bold; color: #00ff88; margin-bottom: 0.5rem;">Fréquence d'Alignement Calculée: ${frequency} Hz</h2>
                    <p style="font-size: 0.9rem; color: #ccc;">Votre intention a été alignée. Concentrez-vous.</p>
                 `;
                 
                 // Lancer le son pur (10 minutes)
                 playPureTone(frequency, title, 600000); 
             }
         }, 1000);
    }
    
    // --- Générateur Schéma Vibratoire Personnel AI ---
    function generateVibrationalBlueprint() {
         if (!isOwner) {
            showPricing();
            return;
         }
         
         const goalAmour = document.getElementById('goal-amour').value.trim();
         const goalCarriere = document.getElementById('goal-carriere').value.trim();
         const goalSante = document.getElementById('goal-sante').value.trim();

         if (!goalAmour || !goalCarriere || !goalSante) {
            alert("Veuillez entrer au moins un objectif dans chaque catégorie.");
            return;
         }
         
         const goals = [goalAmour, goalCarriere, goalSante].filter(g => g.length > 0);
         const resultDiv = document.getElementById('blueprintResult');
         resultDiv.innerHTML = '<span style="color: #9370db;">Création du Schéma...</span>';

         const analysisDuration = 12000;
         let secondsLeft = analysisDuration / 1000;
         
         const analysisInterval = setInterval(() => {
             secondsLeft--;
             if (secondsLeft > 0) {
                 resultDiv.innerHTML = `<span style="color: #9370db;">Création du Schéma... (${secondsLeft}s restants)</span>`;
             } else {
                 clearInterval(analysisInterval);

                 // Simulation de la combinaison AI (Symboles et Fréquences)
                 const symbols = ['Fleur de Vie', 'Sri Yantra', 'Merkaba', 'Œil d\'Horus'];
                 const frequencies = ['528 Hz', '432 Hz', '963 Hz', '741 Hz', '111 Hz', '40 Hz'];
                 
                 const symbol1 = symbols[Math.floor(Math.random() * symbols.length)];
                 const symbol2 = symbols[Math.floor(Math.random() * symbols.length)];
                 const freq1 = frequencies[Math.floor(Math.random() * frequencies.length)];
                 const freq2 = frequencies[Math.floor(Math.random() * frequencies.length)];
                 
                 resultDiv.innerHTML = `
                    <h2 style="font-size: 1.5rem; font-weight: bold; color: #ff00ff; margin-bottom: 0.5rem;">Schéma Vibratoire Personnel Prêt !</h2>
                    <p style="font-size: 1rem; color: #ccc; margin-bottom: 0.5rem;"><strong>Symbole Fondamental :</strong> ${symbol1} (Pour ${goalAmour.substring(0, 15)}...)</p>
                    <p style="font-size: 1rem; color: #ccc; margin-bottom: 0.5rem;"><strong>Symbole Moteur :</strong> ${symbol2} (Pour ${goalCarriere.substring(0, 15)}...)</p>
                    <p style="font-size: 1rem; color: #ccc; margin-bottom: 1rem;"><strong>Accord de Fréquence :</strong> Combinaison de ${freq1} et ${freq2}</p>
                    <button onclick="showStatus('Vous pouvez maintenant utiliser ces éléments dans vos méditations!', '#00ff88')" class="btn btn-primary" style="background: linear-gradient(45deg, #ff00ff, #ff87ff);">Voir les Recommandations</button>
                 `;
             }
         }, 1000);
    }
    
    // --- Générateur Legacy (Numérologie) ---
    function calculateLegacyFrequencies() {
        const name = document.getElementById('nameInput').value.trim().toUpperCase();
        const dob = document.getElementById('dobInput').value;

        if (!name || !dob) {
            alert("Veuillez entrer votre nom et votre date de naissance.");
            return;
        }

        const resultDiv = document.getElementById('legacyResult');
        resultDiv.innerHTML = '<span style="color: #ff6b6b;">Calcul en cours...</span>';

        // Simulation de calculs de numérologie simplifiés (fréquences Legacy)
        const alphabetValues = {
            'A': 1, 'B': 2, 'C': 3, 'D': 4, 'E': 5, 'F': 6, 'G': 7, 'H': 8, 'I': 9,
            'J': 1, 'K': 2, 'L': 3, 'M': 4, 'N': 5, 'O': 6, 'P': 7, 'Q': 8, 'R': 9,
            'S': 1, 'T': 2, 'U': 3, 'V': 4, 'W': 5, 'X': 6, 'Y': 7, 'Z': 8, ' ': 0
        };

        const reduce = (number) => {
            let sum = number;
            while (sum > 9 && sum !== 11 && sum !== 22 && sum !== 33) {
                sum = String(sum).split('').reduce((s, digit) => s + parseInt(digit), 0);
            }
            return sum;
        };

        const nameSum = name.split('').reduce((sum, char) => sum + (alphabetValues[char] || 0), 0);
        const dobSum = dob.split('-').map(Number).reduce((sum, part) => sum + reduce(part), 0);

        const lifePath = reduce(reduce(nameSum) + reduce(dobSum)); // Simplification extrême
        const soulUrge = reduce(nameSum * 10); // Autre simplification
        
        // Mapping simplifié aux fréquences (Fictif)
        const freqMap = { 1: 528, 2: 432, 3: 741, 4: 852, 5: 396, 6: 639, 7: 963, 8: 111, 9: 40 };

        const freqVie = freqMap[lifePath] || 528;
        const freqAme = freqMap[soulUrge % 9 + 1] || 432; 

        resultDiv.innerHTML = `
            <h2 style="font-size: 1.2rem; font-weight: bold; color: #ff6b6b; margin-bottom: 1rem;">Vos Fréquences Personnelles (Legacy) :</h2>
            <div class="frequency-item">
                <p>Chemin de Vie (${lifePath}) :</p>
                <p style="font-weight: bold; color: #ffd700;">${freqVie} Hz</p>
            </div>
            <div class="frequency-item">
                <p>Vibration de l'Âme :</p>
                <p style="font-weight: bold; color: #ffd700;">${freqAme} Hz</p>
            </div>
            <p style="font-size: 0.8rem; color: #aaa; margin-top: 1rem;">Cliquez sur une fréquence dans la section Solfège pour l'écouter.</p>
        `;
        showStatus('✅ Calcul terminé.', '#00ff88');
    }
    

    // --- Fonctionnalité Status (Notifications) ---
    function showStatus(message, color) {
        const statusDiv = document.getElementById('statusMessage');
        statusDiv.textContent = message;
        statusDiv.style.background = color || '#00ff88';
        statusDiv.style.display = 'block';
        
        setTimeout(() => {
            statusDiv.style.display = 'none';
        }, 3000);
    }

    // --- Initialisation PayPal ---

    // Fonction pour tenter de rendre les boutons PayPal
    function renderPayPalButtons() {
        if (isOwner) return; // Ne pas afficher si l'accès est déjà débloqué
        try {
            // BOUTON VIP (19€) - Utilise l'ID fourni.
            paypal.HostedButtons({
                hostedButtonId: "24VD5DDMWZZ7Q", 
            }).render("#paypal-container-19");

            console.log("Le bouton PayPal VIP (19€) est rendu.");

        } catch (e) {
            console.error("Erreur lors du rendu du bouton PayPal. Vérifiez le Script SDK et l'ID :", e);
        }
    }

    // Déclenche l'affichage après le chargement du SDK
    if (typeof paypal !== 'undefined' && typeof paypal.HostedButtons === 'function') {
        renderPayPalButtons();
    } else {
         // Fallback pour s'assurer que si le script SDK est chargé après, il appelle la fonction
         window.addEventListener('load', () => {
             if (typeof paypal !== 'undefined' && typeof paypal.HostedButtons === 'function') {
                 renderPayPalButtons();
                 // Verrouille les outils Premium au chargement
                 document.querySelectorAll('#premium-tools .premium-btn').forEach(btn => btn.disabled = true);
             }
         });
    }
    
    // Initialisation (pour s'assurer que les outils Premium sont verrouillés par défaut)
    document.addEventListener('DOMContentLoaded', () => {
         document.querySelectorAll('#premium-tools .premium-btn').forEach(btn => btn.disabled = true);
    });
  </script>
</body>
</html>
